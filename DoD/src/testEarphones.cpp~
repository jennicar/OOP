#include <gtest/gtest.h>
#include <stdexcept>
#include "Earphones.h"
#include "Powerstate.h"
#include "Mode.h"

using namespace std;

TEST(Earphone, constructor){
  Earphones earphones;
  ASSERT_EQ(earphones.getVolume(), 50);
  ASSERT_EQ(earphones.getMode(), PAUSE);
  ASSERT_EQ(earphones.getPowerstate(), POWERED);
}

TEST(Volume, setAndGet){
  Earphones earphones;
  earphones.setVolume(25);
  int expected = 25;
  int actual = earphones.getVolume();
  ASSERT_EQ(actual, expected);
}

TEST(Volume, increaseAndDecrease){
  Earphones earphones;
  earphones.increaseVolume();
  ASSERT_EQ(earphones.getVolume(), 51);
  earphones.decreaseVolume();
  ASSERT_EQ(earphones.getVolume(), 50);
}

TEST(Mode, setAndGet){
  Earphones earphones;
  earphones.setMode(PAUSE);
  Mode expected = PAUSE;
  Mode actual = earphones.getMode();
  ASSERT_EQ(actual, expected);
}

TEST(togglePlay, testMode){
  Earphones earphones;
  earphones.setMode(PAUSE);
  earphones.togglePlay();
  Mode expected = PLAY;
  Mode actual = earphones.getMode();
  ASSERT_EQ(actual, expected);
  earphones.togglePlay();
  actual = earphones.getMode();
  expected = PAUSE;
  ASSERT_EQ(actual, expected);
  }

TEST(Powerstate, setAndGet){
  Earphones earphones;
  earphones.setPowerstate(UNPOWERED);
  Powerstate actual = earphones.getPowerstate();
  Powerstate expected = UNPOWERED;
  ASSERT_EQ(actual, expected);
}

TEST(Powerstate, turnOnAndOff){
  Earphones earphones;
  earphones.turnOn();
  Powerstate actual = earphones.getPowerstate();
  Powerstate expected = POWERED;
  ASSERT_EQ(actual, expected);
  earphones.turnOff();
  actual = earphones.getPowerstate();
  expected = UNPOWERED;
  ASSERT_EQ(actual, expected);
}
